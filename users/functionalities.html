<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Features</title>
<style>
/*! Copyright (C) 2019, TomTom (http://tomtom.com).
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/* Extension of the AsciiDoctor CSS for AsciiDoxy.
 * Adding:
 * - Floating multipage navigation.
 */
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";

/* Multipage navigation */
div#navigation {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1000;
}
div#navigation table {
    margin-bottom: 0;
}
@media screen and (min-width: 768px) {
    body.toc2 div#navigation {
        left: 15em;
    }
    body.toc2.toc-right div#navigation {
        right: 15em;
    }
}
@media screen and (min-width: 1280px) {
    body.toc2 div#navigation {
        left: 20em;
    }
    body.toc2.toc-right div#navigation {
        right: 20em;
    }
}

</style>
</head>
<body class="article">
<div id="header">
<h1>Features</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_cadip"><span class="black">CADIP</span></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CADU Interface delivery Point (CADIP) is a pick-up point for Sentinel CADU data. The CADIP allows
clients to straightforwardly discover and retrieve available data files through a standard OData RESTful API. The following endpoints have been implemented in RS-Server to interact with CADIP RESTful API</p>
</div>
<div class="sect2">
<h3 id="cadip-search"><span class="green">Search Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint retrieves a list of products from the CADU system for a specified station within a given time range and return a STAC compatible FeatureCollection response.</p>
</div>
<div class="sect3">
<h4 id="_api_reference">API Reference</h4>
<div class="paragraph">
<p><code>/cadip/{station}/cadu/search</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>station</code> (str): Identifier for the CADIP station <span class="green">(e.g., MTI, SGS, MPU, INU, etc)</span>.</p>
</li>
<li>
<p><code>datetime</code> (str): Interval of date for time series filter joined by a slash ('/'). (format: <span class="red">"YYYY-MM-DDThh:mm:sssZ</span><strong>/</strong><span class="red">YYYY-MM-DDThh:mm:sssZ"</span>).</p>
</li>
<li>
<p><code>limit</code> (int, optional): Maximum number of products to return, default set to <span class="green">1000</span>.</p>
</li>
<li>
<p><code>sortby</code> (str, optional): Sorting criteria. +/-fieldName indicates ascending/descending order and field name
<span class="green">(e.g. sortby=+datetime)</span> Default no sorting is applied.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_request_example">Request example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/station123/cadu/search?datetime=2023-01-01T00:00:00Z/2023-01-02T23:59:59Z&amp;limit=50&amp;sortby=-datetime</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_return">Return</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "stac_version": "1.0.0",
    "stac_extensions": ["https://stac-extensions.github.io/file/v2.1.0/schema.json"],
    "type": "Feature",
    "id": "DCS_01_S1A_20170501121534062343_ch1_DSDB_00001.raw",
    "geometry": null,
    "properties": {
        "datetime": "2019-02-16T12:00:00.000Z",
        "eviction_datetime": "2019-12-16T12:00:00.000Z",
        "cadip:id": "2b17b57d-fff4-4645-b539-91f305c27c69",
        "cadip:retransfer": false,
        "cadip:final_block": true,
        "cadip:block_number": 1,
        "cadip:channel": 2,
        "cadip:session_id": "S1A_20170501121534062343",
    },
    "links": [],
    "assets": {
        "file": {
            "file:size": 32553
        }
    },
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_session_search_endpoint"><span class="green">Session search Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint retrieves a list of sessions from the CADU system for a specified station within a given parameter and/or time range and return a STAC compatible FeatureCollection response.</p>
</div>
<div class="sect3">
<h4 id="_api_reference_2">API Reference</h4>
<div class="paragraph">
<p><code>/cadip/{station}/session</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_2">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>station</code> (str): Identifier for the CADIP station <span class="green">(e.g., MTI, SGS, MPU, INU, etc)</span>.</p>
</li>
<li>
<p><code>id</code> (str, list[str], optional): DSIB SessionId value. Can be used with coma-separated values <span class="green">(e.g., S1A_20170501121534062343)</span>.</p>
</li>
<li>
<p><code>platform</code> (str, list[str], optional): Platform / Satellite identifier. Can be used with coma-separated values  <span class="green">(e.g: platform = S1A or platform=S1A, S2B)</span>.</p>
</li>
<li>
<p><code>start_date</code> (str, optional): Start time of session (PublicationTime). (format: <span class="red">YYYY-MM-DDThh:mm:sssZ</span>).</p>
</li>
<li>
<p><code>stop_date</code> (str, optional): Stop time of session (PublicationTime). (format: <span class="red">YYYY-MM-DDThh:mm:sssZ</span>).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_note">Note</h4>
<div class="paragraph">
<p>A valid session search request must contain at least a value for either <strong>id</strong> or <strong>platform</strong> or time interval (<strong>start_date</strong> and <strong>stop_date</strong> correctly defined).</p>
</div>
</div>
<div class="sect3">
<h4 id="_request_example_2">Request example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/station123/session?id=S1A_20170501121534062343,S1A_20240328185208053186</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/station123/session?start_date=2020-02-16T12:00:00Z&amp;stop_date=2023-02-16T12:00:00Z&amp;platform=S1A</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_return_2">Return</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "type": "FeatureCollection",
    "numberMatched": 3,
    "numberReturned": 3,
    "features": [
        {
            "stac_version": "1.0.0",
            "stac_extensions": [
                "https://stac-extensions.github.io/timestamps/v1.1.0/schema.json"
            ],
            "type": "Feature",
            "id": "S1A_20240328185208053186",
            "geometry": null,
            "properties": {
                "start_datetime": "2024-03-28T18:52:08.000Z",
                "datetime": "2024-03-28T18:52:08.000Z",
                "end_datetime": "2024-03-28T19:00:52.000Z",
                "published": "2024-03-28T18:52:26Z",
                "platform": "S1A",
                "cadip:id": "726f387b-ad2d-3538-8834-95e3cf8894c6",
                "cadip:num_channels": 2,
                "cadip:station_unit_id": "01",
                "cadip:downlink_orbit": 53186,
                "cadip:acquisition_id": 531861,
                "cadip:antenna_id": "MSP21",
                "cadip:front_end_id": "01",
                "cadip:retransfer": false,
                "cadip:antenna_status_ok": true,
                "cadip:front_end_status_ok": true,
                "cadip:planned_data_start": "2024-03-28T18:52:08.336Z",
                "cadip:planned_data_stop": "2024-03-28T19:00:51.075Z",
                "cadip:downlink_status_ok": true,
                "cadip:delivery_push_ok": true
            },
            "links": [],
            "assets": {}
        },
        {
            "stac_version": "1.0.0",
            "stac_extensions": [
                "https://stac-extensions.github.io/timestamps/v1.1.0/schema.json"
            ],
            "type": "Feature",
            "id": "S1A_20240328185208053186",
            "geometry": null,
            "properties": {
                "start_datetime": "2024-03-28T18:52:08.000Z",
                "datetime": "2024-03-28T18:52:08.000Z",
                "end_datetime": "2024-03-28T19:00:52.000Z",
                "published": "2024-03-28T18:52:26Z",
                "platform": "S1A",
                "cadip:id": "726f387b-ad2d-3538-8834-95e3cf8894c6",
                "cadip:num_channels": 2,
                "cadip:station_unit_id": "01",
                "cadip:downlink_orbit": 53186,
                "cadip:acquisition_id": 531861,
                "cadip:antenna_id": "MSP21",
                "cadip:front_end_id": "01",
                "cadip:retransfer": false,
                "cadip:antenna_status_ok": true,
                "cadip:front_end_status_ok": true,
                "cadip:planned_data_start": "2024-03-28T18:52:08.336Z",
                "cadip:planned_data_stop": "2024-03-28T19:00:51.075Z",
                "cadip:downlink_status_ok": true,
                "cadip:delivery_push_ok": true
            },
            "links": [],
            "assets": {}
        },
        {
            "stac_version": "1.0.0",
            "stac_extensions": [
                "https://stac-extensions.github.io/timestamps/v1.1.0/schema.json"
            ],
            "type": "Feature",
            "id": "S1A_20240329083700053194",
            "geometry": null,
            "properties": {
                "start_datetime": "2024-03-28T18:52:08.000Z",
                "datetime": "2024-03-28T18:52:08.000Z",
                "end_datetime": "2024-03-28T19:00:52.000Z",
                "published": "2024-03-29T08:37:22Z",
                "platform": "S2B",
                "cadip:id": "726f387b-ad2d-3538-8834-95e3cf8894c6",
                "cadip:num_channels": 2,
                "cadip:station_unit_id": "01",
                "cadip:downlink_orbit": 53186,
                "cadip:acquisition_id": 531861,
                "cadip:antenna_id": "MSP21",
                "cadip:front_end_id": "01",
                "cadip:retransfer": false,
                "cadip:antenna_status_ok": true,
                "cadip:front_end_status_ok": true,
                "cadip:planned_data_start": "2024-03-28T18:52:08.336Z",
                "cadip:planned_data_stop": "2024-03-28T19:00:51.075Z",
                "cadip:downlink_status_ok": true,
                "cadip:delivery_push_ok": true
            },
            "links": [],
            "assets": {}
        }
    ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cadip-download"><span class="green">Download Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint initiates an asynchronous download process for a CADU product using EODAG. If specific parameters are provided, endpoint also upload the file to an S3 bucket.</p>
</div>
<div class="sect3">
<h4 id="_api_reference_3">API Reference</h4>
<div class="paragraph">
<p><code>/cadip/{station}/cadu</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_3">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>station</code> (str): The EODAG station identifier <span class="green">(e.g., MTI, SGS, MPU, INU, etc)</span>.</p>
</li>
<li>
<p><code>name</code> (str): The name of the CADU product to be downloaded.</p>
</li>
<li>
<p><code>local</code> (str, optional): The local path where the CADU product will be downloaded.</p>
</li>
<li>
<p><code>obs</code> (str, optional): S3 storage path where the CADU file will be uploaded. <span class="green">(e.g. s3://bucket/path/to/file.tif)</span>.
Connection to S3 bucket is required, and should be written in the environmental variables, <strong>S3_ACCESSKEY</strong>, <strong>S3_SECRETKEY</strong>,
<strong>S3_ENDPOINT</strong> and <strong>S3_REGION</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_returns">Returns</h4>
<div class="ulist">
<ul>
<li>
<p><code>dict</code>: A dictionary indicating whether the download process has started.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_request_example_3">Request example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/station123/cadu?name=DCS_04_S1A_20231121072204051312_ch1_DSDB_00001.raw</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/station123/cadu?name=DCS_04_S1A_20231121072204051312_ch1_DSDB_00001.raw&amp;local=/tmp/file.raw</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/station123/cadu?name=DCS_04_S1A_20231121072204051312_ch1_DSDB_00001.raw&amp;local=/tmp/file.raw&amp;obs=s3://bucket/path/to/file.raw</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response">Response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">{
  "started": "true"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cadip-status"><span class="green">Status Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint is used to query the download status of an CADU file.</p>
</div>
<div class="sect3">
<h4 id="_api_reference_4">API Reference</h4>
<div class="paragraph">
<p><code>/cadip/{station}/cadu/status</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_4">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><code>station</code> (str): The EODAG station identifier <span class="green">(e.g., MTI, SGS, MPU, INU, etc)</span>.</p>
</li>
<li>
<p><code>name</code> (str): The name of the CADU file to be queried from database.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_request">Request</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/{station}/cadu/status?name=DCS_04_S1A_20231121072204051312_ch1_DSDB_00001.raw</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_2">Response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "product_id": "2b17b57d-fff4-4645-b539-91f305c27c69",
  "name": "DCS_04_S1A_20231121072204051312_ch1_DSDB_00001.raw",
  "available_at_station": "2019-02-16T12:00:00.000Z",
  "db_id": 1,
  "download_start": "2023-02-16T12:00:00.000Z",
  "download_stop": null,
  "status": "IN_PROGRESS",
  "status_fail_message": null
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adgs"><span class="black">ADGS</span></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Auxiliary Data Gathering Service (ADGS) is a pick-up point for Sentinel auxiliary files. This service allows
clients to discover and retrieve available auxiliary data files through a standard OData RESTful API. The following endpoints have been implemented in RS-Server to interact with ADGS RESTful API.</p>
</div>
<div class="sect2">
<h3 id="adgs-search"><span class="green">Search Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint handles the search for products in the AUX station within a specified time interval and return a STAC compatible FeatureCollection response.</p>
</div>
<div class="sect3">
<h4 id="_api_reference_5">API Reference</h4>
<div class="paragraph">
<p><code>/adgs/aux/search</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_5">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>datetime</code> (str): Interval of date for time series filter joined by a slash ('/'). (format: <span class="red">"YYYY-MM-DDThh:mm:sssZ</span><strong>/</strong><span class="red">YYYY-MM-DDThh:mm:sssZ"</span>).</p>
</li>
<li>
<p><code>limit</code> (int, optional): Maximum number of products to return, default set to <span class="green">1000</span>.</p>
</li>
<li>
<p><code>sortby</code> (str, optional): Sorting criteria. +/-fieldName indicates ascending/descending order and field name
<span class="green">(e.g. sortby=+datetime)</span> Default no sorting is applied.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_request_example_4">Request Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /adgs/aux/search?datetime=2018-01-01T00:00:00Z/2023-01-02T23:59:59Z&amp;limit=10&amp;sortby=+properties.adgs:id</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_3">Response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "stac_version": "1.0.0",
    "stac_extensions": ["https://stac-extensions.github.io/file/v2.1.0/schema.json"],
    "type": "Feature",
    "id": "DCS_01_S1A_20170501121534062343_ch1_DSDB_00001.raw",
    "geometry": null,
    "properties": {
        "adgs:id": "2b17b57d-fff4-4645-b539-91f305c27c69",
        "datetime": "2019-02-16T12:00:00.000Z",
        "start_datetime": "2019-02-16T11:59:58.000Z",
        "end_datetime": "2019-02-16T12:00:00.000Z",
    },
    "links": [],
    "assets": {
        "file": {
            "file:size": 29301
        }
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adgs-download"><span class="green">Download Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint initiates an asynchronous download process for an AUX product using EODAG. If specific parameters are provided, endpoint also upload the file to an S3 bucket.</p>
</div>
<div class="sect3">
<h4 id="_api_reference_6">API Reference</h4>
<div class="paragraph">
<p><code>/adgs/aux</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_6">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>name</code> (str): The name of the AUX product to be downloaded</p>
</li>
<li>
<p><code>local</code> (str, optional): The local path where the AUX product will be downloaded.</p>
</li>
<li>
<p><code>obs</code> (str, optional): S3 storage path where the AUX file will be uploaded. <span class="green">(e.g. s3://bucket/path/to/file.tgz)</span>.
Connection to S3 bucket is required, and should be written in the environmental variables, <strong>S3_ACCESSKEY</strong>, <strong>S3_SECRETKEY</strong>,
<strong>S3_ENDPOINT</strong> and <strong>S3_REGION</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_returns_2">Returns</h4>
<div class="ulist">
<ul>
<li>
<p><code>dict</code>: A dictionary indicating whether the download process has started.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_request_example_5">Request Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /adgs/aux?name=S2__OPER_AUX_ECMWFD_PDMC_20190216T120000_V20190217T090000_20190217T210000.TGZ</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /adgs/aux?name=S2__OPER_AUX_ECMWFD_PDMC_20190216T120000_V20190217T090000_20190217T210000.TGZ&amp;local=/tmp/aux.tar.gz</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /adgs/aux?name=S2__OPER_AUX_ECMWFD_PDMC_20190216T120000_V20190217T090000_20190217T210000.TGZ&amp;local=/tmp/aux.tar.gz&amp;obs=s3://bucket/path/to/aux.tar.gz</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_4">Response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">{
  "started": "true"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adgs-status"><span class="green">Status Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint is used to query the download status of an AUX file.</p>
</div>
<div class="sect3">
<h4 id="_endpoint">Endpoint</h4>
<div class="paragraph">
<p><code>/adgs/aux/status</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_7">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>name</code> (str): The name of the AUX file to be queried from database.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_request_example_6">Request Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /adgs/aux/status?name=S2__OPER_AUX_ECMWFD_PDMC_20200216T120000_V20190217T090000_20190217T210000.TGZ</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_5">Response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "product_id": "id2",
  "name": "S2__OPER_AUX_ECMWFD_PDMC_20200216T120000_V20190217T090000_20190217T210000.TGZ",
  "available_at_station": "2020-02-16T12:00:00",
  "db_id": 2,
  "download_start": "2023-02-16T12:00:00",
  "download_stop": "2023-02-16T12:01:00",
  "status": "DONE",
  "status_fail_message": null
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_catalog"><span class="black">Catalog</span></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following section groups all the endpoints a user can use to interact with a STAC-compatible database system.</p>
</div>
<hr>
<div class="sect3">
<h4 id="_stac_feature">STAC Feature:</h4>
<div class="paragraph">
<p>A STAC Feature represents a single geospatial asset or dataset. It encapsulates metadata describing the asset, including its spatial and temporal extent, properties, and links to associated data files. STAC Features provide a standardized way to describe individual geospatial datasets, making it easier to discover, access, and use such data across different platforms and tools.</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="_stac_collection">STAC Collection:</h4>
<div class="paragraph">
<p>A STAC Collection is a logical grouping of related STAC Features. It serves as a container for organizing and categorizing similar datasets based on common characteristics, themes, or purposes. Collections can represent various geospatial data themes such as satellite imagery, aerial photography, or land cover classifications. They provide a structured framework for managing and querying multiple related datasets collectively, simplifying data organization and access workflows.</p>
</div>
<hr>
<div class="paragraph">
<p>Using the endpoints described below, a user shall be able to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create / Read / Update / Delete a STAC feature.</p>
</li>
<li>
<p>Create / Read / Update / Delete a collection of STAC features.</p>
</li>
<li>
<p>Search details of existing catalogs, features and collections.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_create_a_collection"><span class="green">Create a collection</span></h3>
<div class="paragraph">
<p>This endpoint converts a request with a correct JSON body collection descriptor to a database entry.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">POST /catalog/collections</code></pre>
</div>
</div>
<details>
<summary class="title">Collection body example</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "id": "test_collection",
    "type": "Collection",
    "description": "Collection description",
    "stac_version": "1.0.0",
    "owner": "test_owner"
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="_get_a_collection"><span class="green">Get a collection</span></h3>
<div class="paragraph">
<p>This endpoint returns a collection details based on parameters given in request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /catalog/collections/{ownerId:collectionId}</code></pre>
</div>
</div>
<details>
<summary class="title">Get Collection result body example</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "collections": [
    {
      "id": "test_collection",
      "type": "Collection",
      "owner": "test_owner",
      "description": "Collection description",
      "stac_version": "1.0.0",
      "links": [
        {
          "rel": "items",
          "type": "application/geo+json",
          "href": "http://testserver/catalog/test_owner/collections/test_collection/items"
        },
        {
          "rel": "parent",
          "type": "application/json",
          "href": "http://testserver/catalog/test_owner"
        },
        {
          "rel": "root",
          "type": "application/json",
          "href": "http://testserver/catalog/test_owner"
        },
        {
          "rel": "self",
          "type": "application/json",
          "href": "http://testserver/catalog/test_owner/collections/test_collection"
        }
      ]
    }
  ],
  "links": [
    {
      "rel": "root",
      "type": "application/json",
      "href": "http://testserver/catalog/test_owner"
    },
    {
      "rel": "parent",
      "type": "application/json",
      "href": "http://testserver/catalog/test_owner"
    },
    {
      "rel": "self",
      "type": "application/json",
      "href": "http://testserver/catalog/test_owner/collections"
    }
  ]
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="_update_a_collection"><span class="green">Update a collection</span></h3>
<div class="paragraph">
<p>This endpoint updates a collection from STAC if it exists and request body json data is STAC compatible.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">PUT /catalog/collections/{ownerId:collectionId}</code></pre>
</div>
</div>
<details>
<summary class="title">Updated collection JSON body example</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "id": "test_collection",
    "type": "Collection",
    "description": "Updated collection description",
    "stac_version": "1.0.0",
    "owner": "test_owner"
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="_delete_a_collection"><span class="green">Delete a collection</span></h3>
<div class="paragraph">
<p>This endpoint deletes a collection from STAC if it exists and owner has right to perform this action.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">DELETE /catalog/collections/{ownerId:collectionId}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_create_a_feature"><span class="green">Create a Feature</span></h3>
<div class="paragraph">
<p>This endpoint converts a request with a correct JSON body feature descriptor to a database entry.
RS-Server Backend also move assets between s3 storages and updates hypertext reference of each STAC Feature with s3 locations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">POST /catalog/collections/{ownerId:collectionId}/items</code></pre>
</div>
</div>
<details>
<summary class="title">Feature body example</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "collection": "S1_L2",
  "assets": {
    "zarr": {
      "href": "s3://temp-bucket/S1SIWOCN_20220412T054447_0024_S139_T717.zarr.zip",
      "roles": [
        "data"
      ]
    },
    "cog": {
      "href": "s3://temp-bucket/S1SIWOCN_20220412T054447_0024_S139_T420.cog.zip",
      "roles": [
        "data"
      ]
    },
    "ncdf": {
      "href": "s3://temp-bucket/S1SIWOCN_20220412T054447_0024_S139_T902.nc",
      "roles": [
        "data"
      ]
    }
  },
  "bbox": [0],
  "geometry": {
    "type": "Polygon",
    "coordinates": [
      [[-94.6334839, 37.0595608],
        [-94.6334839, 37.0332547],
        [-94.6005249, 37.0332547],
        [-94.6005249, 37.0595608],
        [-94.6334839, 37.0595608]]
    ]
  },
  "id": "S1SIWOCN_20220412T054447_0024_S139",
  "links": [
    {
      "href": "./.zattrs.json",
      "rel": "self",
      "type": "application/json"
    }
  ],
  "other_metadata": {},
  "properties": {
    "gsd": 0.5971642834779395,
    "width": 2500,
    "height": 2500,
    "datetime": "2000-02-02T00:00:00Z",
    "proj:epsg": 3857,
    "orientation": "nadir"
  },
  "stac_extensions": [
    "https://stac-extensions.github.io/eopf/v1.0.0/schema.json"
  ],
  "stac_version": "1.0.0",
  "type": "Feature"
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="_get_a_feature"><span class="green">Get a Feature</span></h3>
<div class="paragraph">
<p>This endpoint returns a feature details based on parameters given in request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /catalog/collections/{ownerId:collectionId}/items/{featureID}</code></pre>
</div>
</div>
<details>
<summary class="title">Get Feature result body example</summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "id": "S1SIWOCN_20220412T054447_0024_S139",
  "bbox": [0],
  "type": "Feature",
  "links": [
    {
      "rel": "collection",
      "type": "application/json",
      "href": "http://testserver/catalog/fixture_owner/collections/fixture_collection"
    },
    {
      "rel": "parent",
      "type": "application/json",
      "href": "http://testserver/catalog/fixture_owner/collections/fixture_collection"
    },
    {
      "rel": "root",
      "type": "application/json",
      "href": "http://testserver/catalog/fixture_owner"
    },
    {
      "rel": "self",
      "type": "application/geo+json",
      "href": "http://testserver/catalog/fixture_owner/collections/fixture_collection/items/new_feature_id"
    }
  ],
  "assets": {
    "cog": {
      "href": "https://rs-server/catalog/fixture_owner/collections/fixture_collection/items/some_file.cog.zip/download/cog",
      "roles": [
        "data"
      ],
      "alternate": {
        "s3": {
          "href": "s3://catalog-bucket/correct_location/some_file.cog.zip"
        }
      }
    },
    "ncdf": {
      "href": "https://rs-server/catalog/fixture_owner/collections/fixture_collection/items/some_file.ncdf.zip/download/ncdf",
      "roles": [
        "data"
      ],
      "alternate": {
        "s3": {
          "href": "s3://catalog-bucket/correct_location/some_file.ncdf.zip"
        }
      }
    },
    "zarr": {
      "href": "https://rs-server/catalog/fixture_owner/collections/fixture_collection/items/some_file.zarr.zip/download/zarr",
      "roles": [
        "data"
      ],
      "alternate": {
        "s3": {
          "href": "s3://catalog-bucket/correct_location/some_file.zarr.zip"
        }
      }
    }
  },
  "geometry": {
    "type": "Polygon",
    "coordinates": [
      [[-94.6334839, 37.0595608],
        [-94.6334839, 37.0332547],
        [-94.6005249, 37.0332547],
        [-94.6005249, 37.0595608],
        [-94.6334839, 37.0595608]]
    ]
  },
  "collection": "fixture_collection",
  "properties": {
    "gsd": 0.5971642834779395,
    "owner": "fixture_owner",
    "width": 2500,
    "height": 2500,
    "datetime": "2000-02-02T00:00:00Z",
    "proj:epsg": 3857,
    "orientation": "nadir"
  },
  "stac_version": "1.0.0",
  "stac_extensions": [
    "https://stac-extensions.github.io/eopf/v1.0.0/schema.json"
  ]
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="_update_a_feature"><span class="green">Update a Feature</span></h3>
<div class="paragraph">
<p>This endpoint updates content of a feature is request JSON data is completely STAC-compatible.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">PUT /catalog/collections/{ownerId:collectionId}/items/{featureID}</code></pre>
</div>
</div>
<div id="navigation">
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle"><a href="architecture.html">Prev</a></th>
<th class="tableblock halign-center valign-middle"><a href="../index.html">Up</a><br>
<a href="../index.html">Home</a></th>
<th class="tableblock halign-right valign-middle"><a href="../dev/environment/installation.html">Next</a></th>
</tr>
</thead>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-05-16 13:49:33 UTC
</div>
</div>
</body>
</html>