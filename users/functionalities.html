<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Features</title>
<style>
/*! Copyright (C) 2019, TomTom (http://tomtom.com).
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/* Extension of the AsciiDoctor CSS for AsciiDoxy.
 * Adding:
 * - Floating multipage navigation.
 */
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";

/* Multipage navigation */
div#navigation {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1000;
}
div#navigation table {
    margin-bottom: 0;
}
@media screen and (min-width: 768px) {
    body.toc2 div#navigation {
        left: 15em;
    }
    body.toc2.toc-right div#navigation {
        right: 15em;
    }
}
@media screen and (min-width: 1280px) {
    body.toc2 div#navigation {
        left: 20em;
    }
    body.toc2.toc-right div#navigation {
        right: 20em;
    }
}

</style>
</head>
<body class="article">
<div id="header">
<h1>Features</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_cadip"><span class="black">CADIP</span></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CADU Interface delivery Point (CADIP) is a pick-up point for Sentinel CADU data. The CADIP allows
clients to straightforwardly discover and retrieve available data files through a standard OData RESTful API. The following endpoints have been implemented in RS-Server to interact with CADIP RESTful API</p>
</div>
<div class="sect2">
<h3 id="cadip-search"><span class="green">Search Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint retrieves a list of products from the CADU system for a specified station within a given time range and return a STAC compatible FeatureCollection response.</p>
</div>
<div class="sect3">
<h4 id="_api_reference">API Reference</h4>
<div class="paragraph">
<p><code>/cadip/{station}/cadu/search</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>station</code> (str): Identifier for the CADIP station <span class="green">(e.g., MTI, SGS, MPU, INU, etc)</span>.</p>
</li>
<li>
<p><code>datetime</code> (str): Interval of date for time series filter joined by a slash ('/'). (format: <span class="red">"YYYY-MM-DDThh:mm:sssZ</span><strong>/</strong><span class="red">YYYY-MM-DDThh:mm:sssZ"</span>).</p>
</li>
<li>
<p><code>limit</code> (int, optional): Maximum number of products to return, default set to <span class="green">1000</span>.</p>
</li>
<li>
<p><code>sortby</code> (str, optional): Sorting criteria. +/-fieldName indicates ascending/descending order and field name
<span class="green">(e.g. sortby=+datetime)</span> Default no sorting is applied.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_request_example">Request example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/station123/cadu/search?datetime=2023-01-01T00:00:00Z/2023-01-02T23:59:59Z&amp;limit=50&amp;sortby=-datetime</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_return">Return</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "stac_version": "1.0.0",
    "stac_extensions": ["https://stac-extensions.github.io/file/v2.1.0/schema.json"],
    "type": "Feature",
    "id": "DCS_01_S1A_20170501121534062343_ch1_DSDB_00001.raw",
    "geometry": null,
    "properties": {
        "datetime": "2019-02-16T12:00:00.000Z",
        "eviction_datetime": "2019-12-16T12:00:00.000Z",
        "cadip:id": "2b17b57d-fff4-4645-b539-91f305c27c69",
        "cadip:retransfer": false,
        "cadip:final_block": true,
        "cadip:block_number": 1,
        "cadip:channel": 2,
        "cadip:session_id": "S1A_20170501121534062343",
    },
    "links": [],
    "assets": {
        "file": {
            "file:size": 32553
        }
    },
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cadip-download"><span class="green">Download Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint initiates an asynchronous download process for a CADU product using EODAG. If specific parameters are provided, endpoint also upload the file to an S3 bucket.</p>
</div>
<div class="sect3">
<h4 id="_api_reference_2">API Reference</h4>
<div class="paragraph">
<p><code>/cadip/{station}/cadu</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_2">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>station</code> (str): The EODAG station identifier <span class="green">(e.g., MTI, SGS, MPU, INU, etc)</span>.</p>
</li>
<li>
<p><code>name</code> (str): The name of the CADU product to be downloaded.</p>
</li>
<li>
<p><code>local</code> (str, optional): The local path where the CADU product will be downloaded.</p>
</li>
<li>
<p><code>obs</code> (str, optional): S3 storage path where the CADU file will be uploaded. <span class="green">(e.g. s3://bucket/path/to/file.tif)</span>.
Connection to S3 bucket is required, and should be written in the environmental variables, <strong>S3_ACCESSKEY</strong>, <strong>S3_SECRETKEY</strong>,
<strong>S3_ENDPOINT</strong> and <strong>S3_REGION</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_returns">Returns</h4>
<div class="ulist">
<ul>
<li>
<p><code>dict</code>: A dictionary indicating whether the download process has started.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_request_example_2">Request example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/station123/cadu?name=DCS_04_S1A_20231121072204051312_ch1_DSDB_00001.raw</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/station123/cadu?name=DCS_04_S1A_20231121072204051312_ch1_DSDB_00001.raw&amp;local=/tmp/file.raw</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/station123/cadu?name=DCS_04_S1A_20231121072204051312_ch1_DSDB_00001.raw&amp;local=/tmp/file.raw&amp;obs=s3://bucket/path/to/file.raw</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response">Response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">{
  "started": "true"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cadip-status"><span class="green">Status Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint is used to query the download status of an CADU file.</p>
</div>
<div class="sect3">
<h4 id="_api_reference_3">API Reference</h4>
<div class="paragraph">
<p><code>/cadip/{station}/cadu/status</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_3">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><code>station</code> (str): The EODAG station identifier <span class="green">(e.g., MTI, SGS, MPU, INU, etc)</span>.</p>
</li>
<li>
<p><code>name</code> (str): The name of the CADU file to be queried from database.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_request">Request</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /cadip/{station}/cadu/status?name=DCS_04_S1A_20231121072204051312_ch1_DSDB_00001.raw</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_2">Response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "product_id": "2b17b57d-fff4-4645-b539-91f305c27c69",
  "name": "DCS_04_S1A_20231121072204051312_ch1_DSDB_00001.raw",
  "available_at_station": "2019-02-16T12:00:00.000Z",
  "db_id": 1,
  "download_start": "2023-02-16T12:00:00.000Z",
  "download_stop": null,
  "status": "IN_PROGRESS",
  "status_fail_message": null
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adgs"><span class="black">ADGS</span></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Auxiliary Data Gathering Service (ADGS) is a pick-up point for Sentinel auxiliary files. This service allows
clients to discover and retrieve available auxiliary data files through a standard OData RESTful API. The following endpoints have been implemented in RS-Server to interact with ADGS RESTful API.</p>
</div>
<div class="sect2">
<h3 id="adgs-search"><span class="green">Search Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint handles the search for products in the AUX station within a specified time interval and return a STAC compatible FeatureCollection response.</p>
</div>
<div class="sect3">
<h4 id="_api_reference_4">API Reference</h4>
<div class="paragraph">
<p><code>/adgs/aux/search</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_4">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>datetime</code> (str): Interval of date for time series filter joined by a slash ('/'). (format: <span class="red">"YYYY-MM-DDThh:mm:sssZ</span><strong>/</strong><span class="red">YYYY-MM-DDThh:mm:sssZ"</span>).</p>
</li>
<li>
<p><code>limit</code> (int, optional): Maximum number of products to return, default set to <span class="green">1000</span>.</p>
</li>
<li>
<p><code>sortby</code> (str, optional): Sorting criteria. +/-fieldName indicates ascending/descending order and field name
<span class="green">(e.g. sortby=+datetime)</span> Default no sorting is applied.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_request_example_3">Request Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /adgs/aux/search?datetime=2018-01-01T00:00:00Z/2023-01-02T23:59:59Z&amp;limit=10&amp;sortby=+properties.adgs:id</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_3">Response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "stac_version": "1.0.0",
    "stac_extensions": ["https://stac-extensions.github.io/file/v2.1.0/schema.json"],
    "type": "Feature",
    "id": "DCS_01_S1A_20170501121534062343_ch1_DSDB_00001.raw",
    "geometry": null,
    "properties": {
        "adgs:id": "2b17b57d-fff4-4645-b539-91f305c27c69",
        "datetime": "2019-02-16T12:00:00.000Z",
        "start_datetime": "2019-02-16T11:59:58.000Z",
        "end_datetime": "2019-02-16T12:00:00.000Z",
    },
    "links": [],
    "assets": {
        "file": {
            "file:size": 29301
        }
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adgs-download"><span class="green">Download Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint initiates an asynchronous download process for an AUX product using EODAG. If specific parameters are provided, endpoint also upload the file to an S3 bucket.</p>
</div>
<div class="sect3">
<h4 id="_api_reference_5">API Reference</h4>
<div class="paragraph">
<p><code>/adgs/aux</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_5">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>name</code> (str): The name of the AUX product to be downloaded</p>
</li>
<li>
<p><code>local</code> (str, optional): The local path where the AUX product will be downloaded.</p>
</li>
<li>
<p><code>obs</code> (str, optional): S3 storage path where the AUX file will be uploaded. <span class="green">(e.g. s3://bucket/path/to/file.tgz)</span>.
Connection to S3 bucket is required, and should be written in the environmental variables, <strong>S3_ACCESSKEY</strong>, <strong>S3_SECRETKEY</strong>,
<strong>S3_ENDPOINT</strong> and <strong>S3_REGION</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_returns_2">Returns</h4>
<div class="ulist">
<ul>
<li>
<p><code>dict</code>: A dictionary indicating whether the download process has started.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_request_example_4">Request Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /adgs/aux?name=S2__OPER_AUX_ECMWFD_PDMC_20190216T120000_V20190217T090000_20190217T210000.TGZ</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /adgs/aux?name=S2__OPER_AUX_ECMWFD_PDMC_20190216T120000_V20190217T090000_20190217T210000.TGZ&amp;local=/tmp/aux.tar.gz</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /adgs/aux?name=S2__OPER_AUX_ECMWFD_PDMC_20190216T120000_V20190217T090000_20190217T210000.TGZ&amp;local=/tmp/aux.tar.gz&amp;obs=s3://bucket/path/to/aux.tar.gz</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_4">Response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">{
  "started": "true"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adgs-status"><span class="green">Status Endpoint</span></h3>
<div class="paragraph">
<p>This endpoint is used to query the download status of an AUX file.</p>
</div>
<div class="sect3">
<h4 id="_endpoint">Endpoint</h4>
<div class="paragraph">
<p><code>/adgs/aux/status</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_parameters_6">Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>name</code> (str): The name of the AUX file to be queried from database.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_request_example_5">Request Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET /adgs/aux/status?name=S2__OPER_AUX_ECMWFD_PDMC_20200216T120000_V20190217T090000_20190217T210000.TGZ</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_5">Response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "product_id": "id2",
  "name": "S2__OPER_AUX_ECMWFD_PDMC_20200216T120000_V20190217T090000_20190217T210000.TGZ",
  "available_at_station": "2020-02-16T12:00:00",
  "db_id": 2,
  "download_start": "2023-02-16T12:00:00",
  "download_stop": "2023-02-16T12:01:00",
  "status": "DONE",
  "status_fail_message": null
}</code></pre>
</div>
</div>
<div id="navigation">
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle"><a href="architecture.html">Prev</a></th>
<th class="tableblock halign-center valign-middle"><a href="../index.html">Up</a><br>
<a href="../index.html">Home</a></th>
<th class="tableblock halign-right valign-middle"><a href="../dev/environment/installation.html">Next</a></th>
</tr>
</thead>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-03-18 10:42:59 UTC
</div>
</div>
</body>
</html>