<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Documentation generation process</title>
<style>
/*! Copyright (C) 2019, TomTom (http://tomtom.com).
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/* Extension of the AsciiDoctor CSS for AsciiDoxy.
 * Adding:
 * - Floating multipage navigation.
 */
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";

/* Multipage navigation */
div#navigation {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1000;
}
div#navigation table {
    margin-bottom: 0;
}
@media screen and (min-width: 768px) {
    body.toc2 div#navigation {
        left: 15em;
    }
    body.toc2.toc-right div#navigation {
        right: 15em;
    }
}
@media screen and (min-width: 1280px) {
    body.toc2 div#navigation {
        left: 20em;
    }
    body.toc2.toc-right div#navigation {
        right: 20em;
    }
}

</style>
</head>
<body class="article">
<div id="header">
<h1>Documentation generation process</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The rs-server technical documentation is mainly written using asciidoctor.
Nevertheless, the python api and the rest api are handled differently.
The python api is built using sphinx functionalities.
The rest api is built using fastapi functionalities.</p>
</div>
<div class="paragraph">
<p>Therefore, the built procedure includes specific steps to handle these elements.
The technical documentation include links to open the python api and rest api reference guides.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_technical_documentation_with_multiple_pages">Technical documentation with multiple pages</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://asciidoxy.org/index.html">asciidoxy</a> is used to generate a asciidoctor documentation with multiple pages and add links between pages.
asciidoxy is not compatible with the other dev dependencies.
To use it, a python sub-project dedicated to the generation of the technical documentation
has been added in the rs-server/docs folder.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_python_api_reference_guide">Python api reference guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The python api is generated using <a href="https://www.sphinx-doc.org/en/master/">sphinx</a> functionalities.
It enables us to generate a reference guide from python doc-strings.</p>
</div>
<div class="paragraph">
<p>A link to this reference guide is added in the technical documentation.
A fake asciidoc file is created with the same location as the generated python api.
A link to this file is added in the asciidoc technical documentation.
The generation asciidoc documentation generates a link to this fake html file.
The generation of the python api replaces the html file with the true api reference guide.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
It&#8217;s important to do the python api generation after the technical documentation generation.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
It&#8217;s important to verify this link in the generated documentation.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rest_api_reference_guide">Rest api reference guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The REST API is provided by FastAPI on a dynamic way on the /docs endpoint, using SwaggerUI functionalities.
The technical documentation should also be provided statically in the technical documentation.
FastAPI enables us to export the openapi specification in a json format.
Using Swagger UI functionalities, we can generate a static REST API documentation.</p>
</div>
<div class="paragraph">
<p>It takes the form of an HTML index file using swagger for the rendering
and the exported openapi file for the content.</p>
</div>
<div class="paragraph">
<p>To provide a link to this REST API from the technical documentation,
the same trick is used than the one used for the python API.</p>
</div>
<div id="navigation">
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle"><a href="../design/design.html">Prev</a></th>
<th class="tableblock halign-center valign-middle"><a href="../../index.html">Up</a><br>
<a href="../../index.html">Home</a></th>
<th class="tableblock halign-right valign-middle"></th>
</tr>
</thead>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-04-10 14:17:39 UTC
</div>
</div>
</body>
</html>